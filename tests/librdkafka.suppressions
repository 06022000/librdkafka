# Valgrind suppression file for librdkafka
{
   allocate_tls_despite_detached_1
   Memcheck:Leak
   fun:calloc
   fun:_dl_allocate_tls
   fun:pthread_create@@GLIBC_2.2.5
}

{
   helgrind---_dl_allocate_tls
   Helgrind:Race
   fun:mempcpy
   fun:_dl_allocate_tls_init
   ...
   fun:pthread_create@@GLIBC_2.2*
   fun:pthread_create_WRK
   fun:pthread_create@*
}
{
   drd_nss1
   drd:ConflictingAccess
   fun:pthread_mutex_lock
   fun:_nss_files_gethostbyname4_r
   fun:gaih_inet
   fun:getaddrinfo
   fun:rd_getaddrinfo
   fun:rd_kafka_broker_resolve
   fun:rd_kafka_broker_connect
   fun:rd_kafka_broker_thread_main
   fun:_thrd_wrapper_function
   obj:/usr/lib/valgrind/vgpreload_drd-amd64-linux.so
   fun:start_thread
   fun:clone
}

{
   drd_nss2
   drd:ConflictingAccess
   fun:strlen
   fun:nss_load_library
   fun:__nss_lookup_function
   fun:gaih_inet
   fun:getaddrinfo
   fun:rd_getaddrinfo
   fun:rd_kafka_broker_resolve
   fun:rd_kafka_broker_connect
   fun:rd_kafka_broker_thread_main
   fun:_thrd_wrapper_function
   obj:/usr/lib/valgrind/vgpreload_drd-amd64-linux.so
   fun:start_thread
   fun:clone
}
{
   drd_nss3
   drd:ConflictingAccess
   fun:__GI_stpcpy
   fun:nss_load_library
   fun:__nss_lookup_function
   fun:gaih_inet
   fun:getaddrinfo
   fun:rd_getaddrinfo
   fun:rd_kafka_broker_resolve
   fun:rd_kafka_broker_connect
   fun:rd_kafka_broker_thread_main
   fun:_thrd_wrapper_function
   obj:/usr/lib/valgrind/vgpreload_drd-amd64-linux.so
   fun:start_thread
   fun:clone
}
{
   drd_nss4
   drd:ConflictingAccess
   fun:strlen
   fun:__nss_lookup_function
   fun:gaih_inet
   fun:getaddrinfo
   fun:rd_getaddrinfo
   fun:rd_kafka_broker_resolve
   fun:rd_kafka_broker_connect
   fun:rd_kafka_broker_thread_main
   fun:_thrd_wrapper_function
   obj:/usr/lib/valgrind/vgpreload_drd-amd64-linux.so
   fun:start_thread
   fun:clone
}
{
   drd_nss5
   drd:ConflictingAccess
   fun:strlen
   fun:__nss_lookup_function
   fun:gaih_inet
   fun:getaddrinfo
   fun:rd_getaddrinfo
   fun:rd_kafka_broker_resolve
   fun:rd_kafka_broker_connect
   fun:rd_kafka_broker_thread_main
   fun:_thrd_wrapper_function
   obj:/usr/lib/valgrind/vgpreload_drd-amd64-linux.so
   fun:start_thread
   fun:clone
}
{
   drd_nss6
   drd:ConflictingAccess
   fun:internal_setent
   fun:_nss_files_gethostbyname4_r
   fun:gaih_inet
   fun:getaddrinfo
   fun:rd_getaddrinfo
   fun:rd_kafka_broker_resolve
   fun:rd_kafka_broker_connect
   fun:rd_kafka_broker_thread_main
   fun:_thrd_wrapper_function
   obj:/usr/lib/valgrind/vgpreload_drd-amd64-linux.so
   fun:start_thread
   fun:clone
}
>>>>>>> 4d79b65... More drd suppressions for glibc getaddrinfo()
